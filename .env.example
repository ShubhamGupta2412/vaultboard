# Environment Variables for VaultBoard
# Copy this file to .env.local and fill in your values

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Get these values from your Supabase project settings:
# https://app.supabase.com/project/YOUR_PROJECT/settings/api

# Your Supabase project URL
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url

# Your Supabase anonymous key (safe to expose in the browser)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key

# =============================================================================
# SITE CONFIGURATION
# =============================================================================
# The base URL of your application
# For local development: http://localhost:3000
# For production: https://yourdomain.com
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# =============================================================================
# INSTRUCTIONS
# =============================================================================
# 1. Create a new Supabase project at https://supabase.com
# 2. Go to Settings > API in your Supabase dashboard
# 3. Copy the Project URL and paste it as NEXT_PUBLIC_SUPABASE_URL
# 4. Copy the anon/public key and paste it as NEXT_PUBLIC_SUPABASE_ANON_KEY
# 5. Update NEXT_PUBLIC_SITE_URL to match your deployment URL
# 6. Save this file as .env.local (this file is git-ignored)
# 7. Restart your Next.js development server

# =============================================================================
# SUPABASE DATABASE SETUP
# =============================================================================
# Run this SQL in your Supabase SQL Editor to create the user_roles table:

# CREATE TABLE user_roles (
#   id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
#   user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,
#   email TEXT NOT NULL,
#   role TEXT NOT NULL CHECK (role IN ('admin', 'manager', 'member', 'viewer')),
#   created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
#   UNIQUE(user_id)
# );

# -- Enable Row Level Security
# ALTER TABLE user_roles ENABLE ROW LEVEL SECURITY;

# -- Create policies for user_roles table
# CREATE POLICY "Users can read their own role"
#   ON user_roles FOR SELECT
#   USING (auth.uid() = user_id);

# CREATE POLICY "Users can insert their own role during signup"
#   ON user_roles FOR INSERT
#   WITH CHECK (auth.uid() = user_id);

# CREATE POLICY "Admins can read all roles"
#   ON user_roles FOR SELECT
#   USING (
#     EXISTS (
#       SELECT 1 FROM user_roles
#       WHERE user_id = auth.uid() AND role = 'admin'
#     )
#   );

# CREATE POLICY "Admins can update all roles"
#   ON user_roles FOR UPDATE
#   USING (
#     EXISTS (
#       SELECT 1 FROM user_roles
#       WHERE user_id = auth.uid() AND role = 'admin'
#     )
#   );

# -- Create index for faster lookups
# CREATE INDEX idx_user_roles_user_id ON user_roles(user_id);
# CREATE INDEX idx_user_roles_email ON user_roles(email);
